---
import Base from "../../layouts/Base.astro";
import { getCollection } from "astro:content";

const ideas = (await getCollection("ideas")).sort(
  (a, b) => b.data.date.valueOf() - a.data.date.valueOf(),
);

const statusColors: Record<string, string> = {
  thinking: "bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",
  exploring: "bg-blue-500/10 text-blue-600 dark:text-blue-400",
  building: "bg-green-500/10 text-green-600 dark:text-green-400",
  shipped: "bg-purple-500/10 text-purple-600 dark:text-purple-400",
  abandoned: "bg-zinc-500/10 text-zinc-500",
};
---

<Base
  title="Ideas - Rhys Sullivan"
  description="Project ideas, some will ship, most won't."
>
  <div>
    <h1 class="text-2xl font-semibold tracking-tight mb-2">project ideas</h1>
    <p class="text-[var(--text-muted)] mb-8"></p>

    {
      ideas.length === 0 ? (
        <p class="text-[var(--text-muted)]">nothing here yet</p>
      ) : (
        <ul class="space-y-4">
          {ideas.map((idea) => (
            <li>
              <a
                href={`/ideas/${idea.slug}`}
                class="group block p-4 -mx-4 rounded-lg hover:bg-[var(--bg-secondary)] transition-colors"
              >
                <div class="flex items-center gap-3 mb-2">
                  <h2 class="font-medium">{idea.data.title}</h2>
                  <span
                    class={`text-xs px-2 py-0.5 rounded-full ${statusColors[idea.data.status]}`}
                  >
                    {idea.data.status}
                  </span>
                </div>
                <p class="text-sm text-[var(--text-muted)]">
                  {idea.data.description}
                </p>
              </a>
            </li>
          ))}
        </ul>
      )
    }
  </div>
</Base>
